<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>For My Bubu üå∏</title>
    <style>
        :root {
            --primary-pink: #ff8fa3;
            --deep-rose: #d6336c;
            --soft-blue: #e0f2fe;
        }

        body, html {
            margin: 0;
            padding: 0;
            width: 100%;
            height: 100%;
            font-family: 'Segoe UI', Roboto, sans-serif;
            background-color: var(--soft-blue);
            overflow: hidden;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        /* Desktop Container */
        .glass-card {
            width: 800px;
            height: 500px;
            background: rgba(255, 255, 255, 0.9);
            border-radius: 30px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.1);
            position: relative;
            z-index: 10;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            border: 1px solid white;
            text-align: center;
            padding: 20px;
        }

        .hidden { display: none !important; }

        h1 { color: var(--deep-rose); font-size: 2.5rem; margin-bottom: 10px; }
        p { color: #555; font-size: 1.2rem; max-width: 80%; }

        /* The Reveal Canvas */
        #canvas-container {
            position: relative;
            width: 600px;
            height: 300px;
            background: white;
            border-radius: 20px;
            cursor: crosshair;
            overflow: hidden;
            border: 3px dashed var(--primary-pink);
        }

        canvas {
            position: absolute;
            top: 0;
            left: 0;
            z-index: 2;
        }

        .under-content {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 1;
            background: #fffafa;
        }

        /* SVG Flower Styling */
        .flower-svg {
            width: 100px;
            height: 100px;
            margin: 10px;
            transition: transform 0.3s;
        }
        .flower-svg:hover { transform: scale(1.2) rotate(5deg); }

        .btn {
            background: var(--deep-rose);
            color: white;
            border: none;
            padding: 15px 40px;
            border-radius: 50px;
            font-size: 1.2rem;
            cursor: pointer;
            margin-top: 20px;
            transition: 0.3s;
        }
        .btn:hover { background: #b02454; transform: scale(1.05); }

        /* Falling Petals Background */
        .petal {
            position: absolute;
            background-color: #ffc0cb;
            border-radius: 150% 0 150% 0;
            opacity: 0.7;
            pointer-events: none;
            animation: fall linear infinite;
        }

        @keyframes fall {
            0% { transform: translateY(-10vh) rotate(0deg); }
            100% { transform: translateY(110vh) rotate(360deg); }
        }
    </style>
</head>
<body>

    <div id="petal-overlay"></div>

    <div class="glass-card" id="main-container">
        <div id="screen1">
            <h1>Hi Bubu! ‚ù§Ô∏è</h1>
            <p>I sent something special from NYC to Texas, but it got covered in rose petals during the flight.</p>
            <p><strong>Can you help me clear them away?</strong></p>
            <button class="btn" onclick="startReveal()">I'll help you, Dudu!</button>
        </div>

        <div id="screen2" class="hidden">
            <h1>Sweep the Petals üßπ</h1>
            <p>Use your mouse to "brush" the screen and find your flowers!</p>
            <div id="canvas-container">
                <div class="under-content">
                    <svg class="flower-svg" viewBox="0 0 100 100">
                        <path d="M50 20 C60 40 90 50 50 80 C10 50 40 40 50 20" fill="#ffb7ce" stroke="#d6336c"/>
                        <circle cx="50" cy="50" r="5" fill="#ffd43b" />
                    </svg>
                    <svg class="flower-svg" viewBox="0 0 100 100">
                        <path d="M30 40 Q50 10 70 40 L70 60 Q50 80 30 60 Z" fill="#ff4d6d" />
                        <rect x="48" y="60" width="4" height="30" fill="#40c057" />
                    </svg>
                    <svg class="flower-svg" viewBox="0 0 100 100">
                        <circle cx="50" cy="50" r="30" fill="#c2255c" />
                        <path d="M50 30 Q60 50 50 70 Q40 50 50 30" fill="#f06595" />
                    </svg>
                </div>
                <canvas id="scratchCanvas"></canvas>
            </div>
            <button id="final-btn" class="hidden btn" onclick="showFinal()">Look, Dudu! I found them!</button>
        </div>

        <div id="screen3" class="hidden">
            <h1 style="font-size: 3.5rem;">Happy Rose Day, Bubu! üåπ</h1>
            <p style="font-size: 1.5rem;">From NYC to Texas, my heart only beats for you.</p>
            <div style="font-size: 100px;">üè†‚úàÔ∏èüíñ</div>
            <p>I love you, Gitika.<br><strong>- Your Dudu (Krish)</strong></p>
        </div>
    </div>

    <script>
        // 1. Create Falling Petals for Background
        function createPetals() {
            const container = document.getElementById('petal-overlay');
            for(let i=0; i<30; i++) {
                const petal = document.createElement('div');
                petal.className = 'petal';
                petal.style.left = Math.random() * 100 + 'vw';
                petal.style.width = Math.random() * 15 + 10 + 'px';
                petal.style.height = petal.style.width;
                petal.style.animationDuration = Math.random() * 3 + 2 + 's';
                petal.style.delay = Math.random() * 5 + 's';
                container.appendChild(petal);
            }
        }
        createPetals();

        // 2. Scratch/Sweep Logic
        const canvas = document.getElementById('scratchCanvas');
        const ctx = canvas.getContext('2d');
        let isDrawing = false;
        let clearedPercent = 0;

        function startReveal() {
            document.getElementById('screen1').classList.add('hidden');
            document.getElementById('screen2').classList.remove('hidden');
            
            canvas.width = 600;
            canvas.height = 300;
            
            // Fill canvas with "Petal" color
            ctx.fillStyle = '#ffccd5';
            ctx.fillRect(0, 0, canvas.width, canvas.height);
            
            // Add some "texture" to the cover
            ctx.fillStyle = '#ffafcc';
            for(let i=0; i<100; i++) {
                ctx.beginPath();
                ctx.arc(Math.random()*600, Math.random()*300, 10, 0, Math.PI*2);
                ctx.fill();
            }

            ctx.globalCompositeOperation = 'destination-out';
        }

        function scratch(e) {
            if(!isDrawing) return;
            const rect = canvas.getBoundingClientRect();
            const x = e.clientX - rect.left;
            const y = e.clientY - rect.top;
            
            ctx.beginPath();
            ctx.arc(x, y, 30, 0, Math.PI * 2);
            ctx.fill();
            checkProgress();
        }

        canvas.addEventListener('mousedown', () => isDrawing = true);
        canvas.addEventListener('mouseup', () => isDrawing = false);
        canvas.addEventListener('mousemove', scratch);

        function checkProgress() {
            clearedPercent += 0.5; // Simple estimation
            if(clearedPercent > 100) {
                document.getElementById('final-btn').classList.remove('hidden');
            }
        }

        function showFinal() {
            document.getElementById('screen2').classList.add('hidden');
            document.getElementById('screen3').classList.remove('hidden');
            document.body.style.backgroundColor = "#fff0f3";
        }
    </script>
</body>
</html>
